apiVersion: tool@v1
tool: "dns_altmutations"
version: "0.1.0"
description: "Generate three synthetic subdomains for each root domain input"

accepts: ["Domain"]
produces:
  - event_type: "dns.domain"          # one canonical event
    schema: "events/dns_domain@v1"    # versioned schema id

parameters:
  - name: "prefixes"
    type: array
    default: ["alt1","alt22","alt3"]
    description: "Subdomain prefixes to generate for each root"

constraints:
  max_batch_size: 10000

runtime:
  image: "dns_altmutations:0.1.0"
  entrypoint: ["python", "/app/adapter.py"]
  cpu_millis: 100
  memory_mb: 64

build:
  dockerfile: "Dockerfile"
  context: "."
